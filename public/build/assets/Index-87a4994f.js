import{_ as d,a as o,c as l,b as e,d as i,F as h,r as m,o as r,t as u}from"./app-b3839823.js";const p={data(){return{screenshots:null,api:null,main_image:null}},mounted(){this.getScreenshots()},methods:{getScreenshots(){o.get("/api/auth/screenshots").then(t=>{this.screenshots=t.data.data}).catch(t=>{console.log(t.response)})},deleteScreenshot(t){o.delete("/api/auth/screenshots/"+t).then(n=>{this.getScreenshots()})},addScreenshot(){let t=new FormData;t.append("name",this.name),t.append("job",this.job),t.append("main_image",this.main_image),o.post("/api/auth/screenshots/",t,{headers:{"Content-Type":"multipart/form-data"}}).then(n=>{this.getScreenshots(),this.name=null,this.job=null})},onFileSelected(t){this.main_image=t.target.files[0]}}},_=e("h2",{class:"text-dark"},"Добавить скриншот",-1),g={class:"mb-3"},b={class:"table"},f=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"id"),e("th",{scope:"col"},"Фото"),e("th",{scope:"col"},"Действия")])],-1),S={scope:"row"},F=["src"],k=["onClick"];function v(t,n,x,C,c,a){return r(),l("div",null,[e("div",null,[_,e("div",g,[e("input",{onChange:n[0]||(n[0]=(...s)=>a.onFileSelected&&a.onFileSelected(...s)),class:"form-control w-75",type:"file",id:"formFile"},null,32)]),e("a",{href:"#",class:"btn btn-success mb-5",onClick:n[1]||(n[1]=i((...s)=>a.addScreenshot&&a.addScreenshot(...s),["prevent"]))},"Добавить")]),e("table",b,[f,e("tbody",null,[(r(!0),l(h,null,m(c.screenshots,s=>(r(),l("tr",null,[e("th",S,u(s.id),1),e("td",null,[e("img",{class:"table-img-big",src:"/storage/"+s.main_image,alt:"No Image"},null,8,F)]),e("td",null,[e("a",{class:"text-decoration-none btn btn-danger",href:"#",onClick:i(w=>a.deleteScreenshot(s.id),["prevent"])}," Удалить",8,k)])]))),256))])])])}const j=d(p,[["render",v]]);export{j as default};
