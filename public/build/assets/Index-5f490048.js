import{_ as y,a,c as n,b as t,w as c,v as u,d as h,F as m,r as _,o as d,t as p,e as g}from"./app-b3839823.js";const b={data(){return{cards:null,api:null,title:null,category:null,editId:null,editCategory:null,editTitle:null}},mounted(){this.getCards()},methods:{isEditCard(s,l,C){this.editId=s,this.editCategory=l,this.editTitle=C},getCards(){a.get("/api/auth/cards").then(s=>{this.cards=s.data.data}).catch(s=>{console.log(s.response)})},editCard(s){a.patch("/api/auth/cards/"+s,{category:this.editCategory,title:this.editTitle}).then(l=>{this.editId=null,this.getCards()})},deleteCard(s){a.delete("/api/auth/cards/"+s).then(l=>{this.getCards()})},addCard(){a.post("/api/auth/cards/",{category:this.category,title:this.title}).then(s=>{this.getCards(),this.category=null,this.title=null})}}},f=t("h2",{class:"text-dark"},"Добавить Видеокарту",-1),x={class:"table"},k=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"id"),t("th",{scope:"col"},"категория"),t("th",{scope:"col"},"Название"),t("th",{scope:"col"},"Действия")])],-1),v={key:0},w={scope:"row"},I=["onClick"],T=["onClick"],V={key:1},U={scope:"row"},B=["onClick"];function E(s,l,C,D,o,r){return d(),n("div",null,[t("div",null,[f,c(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>o.category=e),type:"text",class:"form-control mt-3 mb-3 w-75",placeholder:"Категория"},null,512),[[u,o.category]]),c(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>o.title=e),type:"text",class:"form-control mt-3 mb-3 w-75",placeholder:"Название"},null,512),[[u,o.title]]),t("a",{href:"#",class:"btn btn-success mb-5",onClick:l[2]||(l[2]=h((...e)=>r.addCard&&r.addCard(...e),["prevent"]))},"Добавить")]),t("table",x,[k,t("tbody",null,[(d(!0),n(m,null,_(o.cards,e=>(d(),n(m,null,[e.id!==this.editId?(d(),n("tr",v,[t("th",w,p(e.id),1),t("td",null,p(e.category),1),t("td",null,p(e.title),1),t("td",null,[t("a",{class:"text-decoration-none btn btn-primary me-2",href:"#",onClick:h(i=>this.isEditCard(e.id,e.category,e.title),["prevent"])}," Редактировать",8,I),t("a",{class:"text-decoration-none btn btn-danger",href:"#",onClick:h(i=>r.deleteCard(e.id),["prevent"])}," Удалить",8,T)])])):g("",!0),e.id===this.editId?(d(),n("tr",V,[t("th",U,p(e.id),1),t("td",null,[c(t("input",{"onUpdate:modelValue":l[3]||(l[3]=i=>o.editCategory=i),type:"text",class:"form-control w-50",placeholder:"Категория"},null,512),[[u,o.editCategory]])]),t("td",null,[c(t("input",{"onUpdate:modelValue":l[4]||(l[4]=i=>o.editTitle=i),type:"text",class:"form-control w-50",placeholder:"Название"},null,512),[[u,o.editTitle]])]),t("td",null,[t("a",{class:"text-decoration-none btn btn-primary me-2",href:"#",onClick:h(i=>r.editCard(e.id),["prevent"])}," Изменить",8,B)])])):g("",!0)],64))),256))])])])}const M=y(b,[["render",E]]);export{M as default};
