import{_ as x,a as c,c as u,b as e,w as i,v as d,f as y,d as h,F as v,r as _,o as p,t as a,e as b,g as w}from"./app-ee6ca037.js";const D={data(){return{roadmaps:null,api:null,title:null,descr:null,date:null,editId:null,editDescr:null,editTitle:null,editDate:null,editYear:null,editSeason:null,year:null,season:null}},mounted(){this.getRoadmaps()},methods:{isEditRoadmap(n,l,m,f,s,r){this.editId=n,this.editDescr=m,this.editTitle=l,this.editDate=f,this.editYear=s,this.editSeason=r},getRoadmaps(){c.get("/api/auth/roadmaps").then(n=>{this.roadmaps=n.data.data}).catch(n=>{console.log(n.response)})},editRoadmap(n){c.patch("/api/auth/roadmaps/"+n,{descr:this.editDescr,title:this.editTitle,date:this.editDate,year:this.editYear,season:this.editSeason}).then(l=>{this.editId=null,this.getRoadmaps()})},deleteRoadmap(n){c.delete("/api/auth/roadmaps/"+n).then(l=>{this.getRoadmaps()})},addRoadmap(){c.post("/api/auth/roadmaps/",{descr:this.descr,title:this.title,date:this.date,year:this.year,season:this.season}).then(n=>{this.getRoadmaps(),this.descr=null,this.title=null,this.date=null,this.year=null,this.season=null})}}},R=e("h2",{class:"text-dark"},"Добавить Версию",-1),V=w('<option value="null">Выберите квартал</option><option value="1">Зима</option><option value="2">Весна</option><option value="3">Лето</option><option value="4">Осень</option>',5),k=[V],g={class:"table"},U=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"id"),e("th",{scope:"col"},"Заголовок работы"),e("th",{scope:"col"},"Описание"),e("th",{scope:"col"},"Дата окончания"),e("th",{scope:"col"},"Год"),e("th",{scope:"col"},"Квартал"),e("th",{scope:"col"},"Действия")])],-1),C={key:0},S={scope:"row"},I=["onClick"],T=["onClick"],Y={key:1},B={scope:"row"},E=e("option",{value:"1"},"Зима",-1),M=e("option",{value:"2"},"Весна",-1),N=e("option",{value:"3"},"Лето",-1),F=e("option",{value:"4"},"Осень",-1),L=[E,M,N,F],j=["onClick"];function q(n,l,m,f,s,r){return p(),u("div",null,[e("div",null,[R,i(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>s.title=t),type:"text",class:"form-control mt-3 mb-3 w-75",placeholder:"Заголовок"},null,512),[[d,s.title]]),i(e("textarea",{rows:"6","onUpdate:modelValue":l[1]||(l[1]=t=>s.descr=t),type:"text",class:"form-control mt-3 mb-3 w-75",placeholder:"Описание"},null,512),[[d,s.descr]]),i(e("input",{"onUpdate:modelValue":l[2]||(l[2]=t=>s.date=t),type:"text",class:"form-control mt-3 mb-3 w-75",placeholder:"Дата окончания"},null,512),[[d,s.date]]),i(e("input",{"onUpdate:modelValue":l[3]||(l[3]=t=>s.year=t),type:"text",class:"form-control mt-3 mb-3 w-50",placeholder:"Год"},null,512),[[d,s.year]]),i(e("select",{"onUpdate:modelValue":l[4]||(l[4]=t=>s.season=t),class:"form-select w-50 mb-3","aria-label":"Default select example"},k,512),[[y,s.season]]),e("a",{href:"#",class:"btn btn-success mb-5",onClick:l[5]||(l[5]=h((...t)=>r.addRoadmap&&r.addRoadmap(...t),["prevent"]))},"Добавить")]),e("table",g,[U,e("tbody",null,[(p(!0),u(v,null,_(s.roadmaps,t=>(p(),u(v,null,[t.id!==this.editId?(p(),u("tr",C,[e("th",S,a(t.id),1),e("td",null,a(t.title),1),e("td",null,a(t.descr),1),e("td",null,a(t.date),1),e("td",null,a(t.year),1),e("td",null,a(t.season),1),e("td",null,[e("a",{class:"text-decoration-none btn btn-primary me-2 mb-2",href:"#",onClick:h(o=>this.isEditRoadmap(t.id,t.title,t.descr,t.date,t.year,t.season),["prevent"])}," Редактировать",8,I),e("a",{class:"text-decoration-none btn btn-danger",href:"#",onClick:h(o=>r.deleteRoadmap(t.id),["prevent"])}," Удалить",8,T)])])):b("",!0),t.id===this.editId?(p(),u("tr",Y,[e("th",B,a(t.id),1),e("td",null,[i(e("input",{"onUpdate:modelValue":l[6]||(l[6]=o=>s.editTitle=o),type:"text",class:"form-control w-100",placeholder:"Название"},null,512),[[d,s.editTitle]])]),e("td",null,[i(e("textarea",{rows:"4","onUpdate:modelValue":l[7]||(l[7]=o=>s.editDescr=o),type:"text",class:"form-control w-100",placeholder:"Что нового"},null,512),[[d,s.editDescr]])]),e("td",null,[i(e("input",{"onUpdate:modelValue":l[8]||(l[8]=o=>s.editDate=o),type:"text",class:"form-control w-100",placeholder:"Дата выпуска"},null,512),[[d,s.editDate]])]),e("td",null,[i(e("input",{"onUpdate:modelValue":l[9]||(l[9]=o=>s.editYear=o),type:"text",class:"form-control w-100",placeholder:"Год"},null,512),[[d,s.editYear]])]),e("td",null,[i(e("select",{"onUpdate:modelValue":l[10]||(l[10]=o=>s.editSeason=o),class:"form-select w-100","aria-label":"Default select example"},L,512),[[y,s.editSeason]])]),e("td",null,[e("a",{class:"text-decoration-none btn btn-primary me-2",href:"#",onClick:h(o=>r.editRoadmap(t.id),["prevent"])}," Изменить",8,j)])])):b("",!0)],64))),256))])])])}const A=x(D,[["render",q]]);export{A as default};
