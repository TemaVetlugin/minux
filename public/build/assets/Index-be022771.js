import{_,a as h,c as o,b as t,w as u,v as m,d as a,F as p,r as b,o as n,t as c,e as g}from"./app-ee6ca037.js";const A={data(){return{algorithms:null,api:null,title:null,editId:null,editTitle:null}},mounted(){this.getAlgorithms()},methods:{isEditAlgorithm(l,i){this.editId=l,this.editTitle=i},getAlgorithms(){h.get("/api/auth/algorithms").then(l=>{this.algorithms=l.data.data}).catch(l=>{console.log(l.response)})},editAlgorithm(l){h.patch("/api/auth/algorithms/"+l,{title:this.editTitle}).then(i=>{this.editId=null,this.getAlgorithms()})},deleteAlgorithm(l){h.delete("/api/auth/algorithms/"+l).then(i=>{this.getAlgorithms()})},addAlgorithm(){h.post("/api/auth/algorithms/",{title:this.title}).then(l=>{this.getAlgorithms(),this.title=null})}}},f=t("h2",{class:"text-dark"},"Добавить Алгоритм",-1),k={class:"table"},v=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"id"),t("th",{scope:"col"},"Название"),t("th",{scope:"col"},"Действия")])],-1),x={key:0},y={scope:"row"},C=["onClick"],w=["onClick"],I={key:1},T={scope:"row"},V=["onClick"];function B(l,i,E,D,s,d){return n(),o("div",null,[t("div",null,[f,u(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>s.title=e),type:"text",class:"form-control mt-3 mb-3 w-75",placeholder:"Название"},null,512),[[m,s.title]]),t("a",{href:"#",class:"btn btn-success mb-5",onClick:i[1]||(i[1]=a((...e)=>d.addAlgorithm&&d.addAlgorithm(...e),["prevent"]))},"Добавить")]),t("table",k,[v,t("tbody",null,[(n(!0),o(p,null,b(s.algorithms,e=>(n(),o(p,null,[e.id!==this.editId?(n(),o("tr",x,[t("th",y,c(e.id),1),t("td",null,c(e.title),1),t("td",null,[t("a",{class:"text-decoration-none btn btn-primary me-2",href:"#",onClick:a(r=>this.isEditAlgorithm(e.id,e.title),["prevent"])}," Редактировать",8,C),t("a",{class:"text-decoration-none btn btn-danger",href:"#",onClick:a(r=>d.deleteAlgorithm(e.id),["prevent"])}," Удалить",8,w)])])):g("",!0),e.id===this.editId?(n(),o("tr",I,[t("th",T,c(e.id),1),t("td",null,[u(t("input",{"onUpdate:modelValue":i[2]||(i[2]=r=>s.editTitle=r),type:"text",class:"form-control w-50",placeholder:"Название"},null,512),[[m,s.editTitle]])]),t("td",null,[t("a",{class:"text-decoration-none btn btn-primary me-2",href:"#",onClick:a(r=>d.editAlgorithm(e.id),["prevent"])}," Изменить",8,V)])])):g("",!0)],64))),256))])])])}const M=_(A,[["render",B]]);export{M as default};
